@using FocLab.Logic.Models.Tasks
@model List<FocLab.Logic.Models.Experiments.ChemistryTaskExperimentSimpleModel>
@{
    Layout = null;

    var task = ViewData["task"] as ChemistryTaskModel;
}

<h2>
    <strong>
        Эксперименты по данному заданию
    </strong>

    <span class="m-badge m-badge--success">
        @(Model.Count)
    </span>
</h2>


<div class="table-responsive">
    <table class="table table-hover">
        <thead>
            <tr>
                <th>
                    <strong>Название</strong>
                </th>

                <th>
                    <strong>Пользователь</strong>
                </th>

                <th>
                    <strong>Дата создания</strong>
                </th>
            </tr>
        </thead>

        <tbody>
            @foreach (var experiment in Model)
            {
                var _class = experiment.Deleted ? "danger" : "";

                var title = string.IsNullOrWhiteSpace(experiment.Title) ? "[Без названия]" : experiment.Title;

                <tr class="@_class">
                    <td >
                        <a href="/Chemistry/Experiments/Experiment/@experiment.Id">
                            @title
                        </a>
                    </td>

                    <td>
                        <a href="/Chemistry/Experiments/Experiment/@experiment.Id">
                            @experiment.Performer.Email
                        </a>
                    </td>

                    <td>
                        @experiment.CreationDate
                    </td>

                </tr>
            }

            <tr>
                <th colspan="3">
                    <a class="btn btn-success btn-block" href="/Chemistry/Experiments/Create/@task.Id">
                        Создать эксперимент
                    </a>
                </th>
            </tr>
        </tbody>
    </table>
</div>

<div style="height:50px">

</div>